{"remainingRequest":"/Users/jameshuntercarter/htdocs/generator/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jameshuntercarter/htdocs/generator/src/templates/ContentItem.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jameshuntercarter/htdocs/generator/src/templates/ContentItem.vue","mtime":1585644839798},{"path":"/Users/jameshuntercarter/htdocs/generator/node_modules/cache-loader/dist/cjs.js","mtime":1584835208383},{"path":"/Users/jameshuntercarter/htdocs/generator/node_modules/babel-loader/lib/index.js","mtime":1584835208396},{"path":"/Users/jameshuntercarter/htdocs/generator/node_modules/cache-loader/dist/cjs.js","mtime":1584835208383},{"path":"/Users/jameshuntercarter/htdocs/generator/node_modules/vue-loader/lib/index.js","mtime":1584835209127}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\nexport default {\n    data () {\n    return {\n      relatedCollection: null,      \n      relatedCollections: null,\n      relatedProductsCount: 0       \n    }\n  },\n  components: {\n   },\n   \t\n  async mounted() {          \n    try {\n      var URL= window.location.href\n\n      var arr=URL.split('/content/')\n      //arr[0]='example.com'\n      //arr[1]='event'\n      //arr[2]='14aD9Uxp?p=10'\n\n      var str = '/content/' + arr[1]\n      //alert(str)\n      const results = await this.$fetch(str)\n      \n        this.relatedCollections = results.data.contentItem.relatedCollections\n        this.getRelatedCollection()\n              \n      \n    } catch (error) {\n      console.log(error)\n    }\n  },  \n  methods: {   \n   \n    limitRelatedProducts(includes) {\n      /*  Currently doesn't work\n      if(this.relatedProductsCount < 3) {               \n        var count = this.relatedProductsCount\n        this.relatedProductsCount = count + 1\n        return true\n      }\n\n      else { \n        return false\n      }\n      */\n      return true\n\n    },\n    getThumbnailImage(){\n      if(this.$page.contentItem.thumbnail_image != null){\n        return 'https://www.dharmaworks.com' + this.$page.contentItem.thumbnail_image.src\n      }\n      if(this.$page.contentItem.cover_image != null){\n        return 'https://www.dharmaworks.com' + this.$page.contentItem.cover_image.src\n      }\n      else {\n        return ''\n      }\n    },\n    getRelatedCollection() {    \n      //if(this.relatedCollections.length >= 0) {\n        this.relatedCollection = this.relatedCollections[Math.floor(Math.random() * this.relatedCollections.length)]\n      //}\n    },\n    getRelativeImageUrl(input) {   \n       var str = input          \n       str = input.src\n        //str =  str.split('/images/').pop()\n        //alert(str)\n        return '' + str        \n    }\n  },\n  metaInfo () {\n    return {\n      title: this.$page.contentItem.title,\n      meta: [\n        {\n          name: 'description',\n          content: this.$page.contentItem.description\n        },\n        {\n          name: 'keywords',\n          content: this.$page.contentItem.keywords\n        },\n        {\n          property: \"og:title\",\n          content: this.$page.contentItem.title\n        },\n        {\n          name: \"twitter:card\",\n          content: this.getThumbnailImage() ? \"summary_large_image\" : \"summary\",\n        },\n        {\n          name: \"twitter:creator\",\n          content: \"@DharmaWorksLLC\"\n        },\n        {\n          property: \"og:description\",\n          cotent: this.$page.contentItem.description\n        },\n        {\n          property: \"og:image\",\n          content: this.getThumbnailImage()\n        }\n      ]\n    }\n  }\n}\n",{"version":3,"sources":["ContentItem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ContentItem.vue","sourceRoot":"src/templates","sourcesContent":["<template>\n  <Layout>   \n    \n    <b-card\n        class=\"mb-4 px-0 bg-dark card-image-tinted border-0\" \n        style=\"width:100%;height:500px;                                                         \n                background-size:cover;\n                border-radius:0px !important;\n                background-position:center !important;\"                \n                :style=\"{ backgroundImage:\n                  'url('+ $page.contentItem.cover_image + ')'\n                 }\">\n                \n      \n        <div class=\"row h-100\">\n          <div class=\"col-sm-12 text-center\" style=\"margin-top:150px;\">            \n             <h1 class=\"d-none d-md-block text-white text-weight-300 text-shadow \">               \n                {{ $page.contentItem.title }}\n             </h1>\n             <h2 class=\"d-block d-md-none text-white text-weight-300 text-shadow\">               \n                {{ $page.contentItem.title }}\n             </h2>\n             <div class=\"badge badge-pill badge-dark border-0  px-3 py-2 text-white opacity-90 mt-3 text-weight-400 bg-black \" style=\"font-size:85%;\">{{ $page.contentItem.subtitle  }}</div><br>\n             <a data-scroll href=\"#more\" class=\"scroll-button-down mt-4\"></a>\n          </div>\n        </div>       \n    </b-card>\n    \n    <div class=\"container\">\n      <div class=\"row mx-3 mx-md-0 justify-content-center\">          \n        <div id=\"more\" class=\"col-md-9 bg-white br-5 p-4 p-md-5 mb-0 \" style=\"font-size:115%; margin-top:-50px;z-index:99; box-shadow:0px -45px 30px rgba(0,50,7,0.2)\">\n          {{ $page.contentItem.description }}\n        </div>\n        <div class=\"content col-md-9 bg-none  border-top mt-3 pt-5 px-3 p-md-5 \" v-html=\"$page.contentItem.content\">          \n          {{ $page.contentItem.content }}\n        </div>        \n      </div>  \n    </div>         \n\n    <div class=\"container-fluid w-100 \" v-if=\"relatedCollection != null\">      \n      \n        <span v-for=\"edge, index in $page.collections.edges\" v-if=\"relatedCollection == edge.node.slug\">\n          <h5 class=\"opacity-50 text-primary mb-4 w-100 text-center pt-3 pt-md-0 pb-3 pb-md-5\">Recommended For You...</h5>\n          <div deck class=\"row mb-3 mx-3 pb-3 mt-2 justify-content-center \">\n          \n              \n               \n              \n               \n\n                <b-card  v-for=\"offering, offeringIndex in $page.offerings.edges\" v-if=\"edge.node.offerings.includes(offering.node.slug)\" class=\"col-12 col-md-4 col-lg-2 mr-2 mb-2 raised col-lg-2 mx-0  border-0 h-100 \" style=\"min-height:730px;float:left;\"  :key=\"offering.node.id\" >\n                  <div                 \n                style=\"width:100%;height:375px;                              \n                position: absolute;\n                top: 0px;\n                right: 0px;                \n                background-size:cover;                \n                background-position:center;\n                background-color:transparent;                \n                border-radius:5px 5px 0px 0px;\n                overflow:hidden;\"\n                class=\"card-image\"\n                :style=\"{ backgroundImage: `url('${offering.node.cover_image}')` }\">\n                </div> \n                  <b-card-text class=\"pt-5 px-3 text-primary\" style=\"line-height:25px;margin-top:350px;z-index:99999999999 !important;\"><h5>{{ offering.node.title }}</h5></b-card-text> \n                  <b-card-text class=\"pb-3 px-3\" style=\"line-height:28px;z-index:99999999999 !important;\">{{ offering.node.description.substr(0, 120) }}<span v-if=\"offering.node.description.length >= 120\" style=\"opacity:.5;\">...</span></b-card-text>\n                  \n                  <b-button :href=\"'/buy/' + offering.node.slug\" style=\"position:absolute;bottom:25px;right:25px;\" variant=\"dark\">Learn More <span style=\"opacity:0.5;\">â†’</span></b-button>\n                  \n                </b-card>  \n                \n              \n          \n            </div>\n          \n\n <!-- Recent posts -->\n  \n       \n          \n      \n\n        </span>\n      </h5>\n    </div> \n\n\n\n  </Layout>\n</template>\n\n<script>\n\n\nexport default {\n    data () {\n    return {\n      relatedCollection: null,      \n      relatedCollections: null,\n      relatedProductsCount: 0       \n    }\n  },\n  components: {\n   },\n   \t\n  async mounted() {          \n    try {\n      var URL= window.location.href\n\n      var arr=URL.split('/content/')\n      //arr[0]='example.com'\n      //arr[1]='event'\n      //arr[2]='14aD9Uxp?p=10'\n\n      var str = '/content/' + arr[1]\n      //alert(str)\n      const results = await this.$fetch(str)\n      \n        this.relatedCollections = results.data.contentItem.relatedCollections\n        this.getRelatedCollection()\n              \n      \n    } catch (error) {\n      console.log(error)\n    }\n  },  \n  methods: {   \n   \n    limitRelatedProducts(includes) {\n      /*  Currently doesn't work\n      if(this.relatedProductsCount < 3) {               \n        var count = this.relatedProductsCount\n        this.relatedProductsCount = count + 1\n        return true\n      }\n\n      else { \n        return false\n      }\n      */\n      return true\n\n    },\n    getThumbnailImage(){\n      if(this.$page.contentItem.thumbnail_image != null){\n        return 'https://www.dharmaworks.com' + this.$page.contentItem.thumbnail_image.src\n      }\n      if(this.$page.contentItem.cover_image != null){\n        return 'https://www.dharmaworks.com' + this.$page.contentItem.cover_image.src\n      }\n      else {\n        return ''\n      }\n    },\n    getRelatedCollection() {    \n      //if(this.relatedCollections.length >= 0) {\n        this.relatedCollection = this.relatedCollections[Math.floor(Math.random() * this.relatedCollections.length)]\n      //}\n    },\n    getRelativeImageUrl(input) {   \n       var str = input          \n       str = input.src\n        //str =  str.split('/images/').pop()\n        //alert(str)\n        return '' + str        \n    }\n  },\n  metaInfo () {\n    return {\n      title: this.$page.contentItem.title,\n      meta: [\n        {\n          name: 'description',\n          content: this.$page.contentItem.description\n        },\n        {\n          name: 'keywords',\n          content: this.$page.contentItem.keywords\n        },\n        {\n          property: \"og:title\",\n          content: this.$page.contentItem.title\n        },\n        {\n          name: \"twitter:card\",\n          content: this.getThumbnailImage() ? \"summary_large_image\" : \"summary\",\n        },\n        {\n          name: \"twitter:creator\",\n          content: \"@DharmaWorksLLC\"\n        },\n        {\n          property: \"og:description\",\n          cotent: this.$page.contentItem.description\n        },\n        {\n          property: \"og:image\",\n          content: this.getThumbnailImage()\n        }\n      ]\n    }\n  }\n}\n</script>\n\n<page-query>\nquery ContentItem ($id: ID!) {\n  contentItem (id: $id) {\n      id\n      title\n      subtitle\n      content\n      slug\n      date (format: \"D. MMMM YYYY\")\n      timeToRead\n      keywords\n      featured      \n      description\n      cover_image\n      \n      path\n      tags {\n        id\n        title\n        path\n      }\n  }\n  collections: allCollection( sortBy: \"slug\", order: DESC, filter: { published: { eq: true } } ) {\n    edges {\n      node {\n        id\n        title\n        slug\n        date (format: \"D. MMMM YYYY\")\n        timeToRead\n        featured\n        description\n        cover_image\n        path\n        tags {\n          id\n          title\n          path\n        }\n        offerings\n      }\n    }\n  }\n   offerings: allOffering(sort: [{ by: \"price\" }, { by: \"boost\" }] order: ASC, filter: { published: { eq: true }}) {\n    edges {\n      node {\n        id\n        title\n        slug\n        date (format: \"D. MMMM YYYY\")\n        timeToRead\n        featured\n        price\n        type\n        description\n        cover_image\n        path\n        tags {\n          id\n          title\n          path\n        }\n      }\n    }\n  }\n}\n</page-query>\n\n\n<style lang=\"scss\">\n\n.post-title {\n  padding: calc(var(--space) / 2) 0 calc(var(--space) / 2);\n  text-align: center;\n}\n\n.post {\n\n  &__header {\n    width: calc(100% + var(--space) * 2);\n    margin-left: calc(var(--space) * -1);\n    margin-top: calc(var(--space) * -1);\n    margin-bottom: calc(var(--space) / 2);\n    overflow: hidden;\n    border-radius: var(--radius) var(--radius) 0 0;\n\n    img {\n      width: 100%;\n    }\n\n    &:empty {\n      display: none;\n    }\n  }\n\n  &__content {\n    h2:first-child {\n      margin-top: 0;\n    }\n\n    p:first-of-type {\n      font-size: 1.2em;\n      color: var(--title-color);\n    }\n\n    img {\n      width: calc(100% + var(--space) * 2);\n      margin-left: calc(var(--space) * -1);\n      display: block;\n      max-width: none;\n    }\n  }\n}\n\n.post-comments {\n  padding: calc(var(--space) / 2);\n\n  &:empty {\n    display: none;\n  }\n}\n\n.post-author {\n  margin-top: calc(var(--space) / 2);\n}\n\n.content b, .content strong {\n    font-weight: 300 !important;\n    background: #fffbc6 !important;\n    color: #000 !important;\n    padding: 3px 5px;\n    border-radius: 4px;\n    white-space:pre-wrap;\n    display:inline !important;\n}\n\n</style>\n"]}]}